From cef9baf375dc8baef786bdd4cbada3f83c3a4b19 Mon Sep 17 00:00:00 2001
From: Mika Laitio <lamikr@gmail.com>
Date: Fri, 24 May 2024 03:50:43 -0700
Subject: [PATCH 3/3] gfx1010 and gfx1035 initial support

- needs more testing

Signed-off-by: Mika Laitio <lamikr@gmail.com>
---
 include/ck/ck.hpp                       | 4 ++--
 include/ck/host_utility/device_prop.hpp | 3 +++
 2 files changed, 5 insertions(+), 2 deletions(-)

diff --git a/include/ck/ck.hpp b/include/ck/ck.hpp
index da5bb86c6..07b45e21d 100644
--- a/include/ck/ck.hpp
+++ b/include/ck/ck.hpp
@@ -51,7 +51,7 @@
     defined(__gfx90a__) || defined(__gfx940__) || defined(__gfx941__) ||                          \
     defined(__gfx942__) // for GPU code
 #define CK_BUFFER_RESOURCE_3RD_DWORD 0x00020000
-#elif defined(__gfx1030__) // for GPU code
+#elif defined(CK_AMD_GPU_GFX1010) || defined(__gfx1030__) || defined(__gfx1031__) || defined(__gfx1035__) // for GPU code
 #define CK_BUFFER_RESOURCE_3RD_DWORD 0x31014000
 #elif defined(__gfx1100__) || defined(__gfx1101__) || defined(__gfx1102__) // for GPU code
 #define CK_BUFFER_RESOURCE_3RD_DWORD 0x31004000
@@ -63,7 +63,7 @@
 #ifndef __HIP_DEVICE_COMPILE__                   // for host code, define nothing
 #elif defined(__gfx803__) || defined(__gfx900__) // for GPU code
 #define CK_USE_AMD_V_MAC_F32
-#elif defined(__gfx906__) || defined(__gfx908__) || defined(__gfx90a__) || defined(__gfx1030__) || \
+#elif defined(__gfx906__) || defined(__gfx908__) || defined(__gfx90a__) || defined(__gfx1010__) || defined(__gfx1030__) || defined(__gfx1031__) || defined(__gfx1035__) || \
     defined(__gfx940__) || defined(__gfx941__) || defined(__gfx942__) // for GPU code
 #define CK_USE_AMD_V_FMAC_F32
 #define CK_USE_AMD_V_DOT2_F32_F16
diff --git a/include/ck/host_utility/device_prop.hpp b/include/ck/host_utility/device_prop.hpp
index e8dabc997..0908f6757 100644
--- a/include/ck/host_utility/device_prop.hpp
+++ b/include/ck/host_utility/device_prop.hpp
@@ -40,7 +40,10 @@ inline std::string get_device_name()
         {"gfx804", "gfx803"},
         {"Vega10", "gfx900"},
         {"gfx901", "gfx900"},
+        {"navi10", "gfx1010"},
+        {"gfx1031", "gfx1030"},
         {"10.3.0 Sienna_Cichlid 18", "gfx1030"},
+        {"Rembrandt", "gfx1035"},
     };
 
     const auto name = raw_name.substr(0, raw_name.find(':')); // str.substr(0, npos) returns str.
-- 
2.41.0

